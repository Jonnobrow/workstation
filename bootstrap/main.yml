---
- hosts: all

  vars_files:
    - default.config.yml

  vars_prompt:
    - name: password
      prompt: "What is your main user password?"
      private: yes
      unsafe: yes
    - name: hostname
      prompt: "Enter the desired hostname for this device"
  roles:
    - name: base
    # Configure Arch Linux
    - name: arch
      when: ansible_facts['os_family'] == 'Archlinux'
    # Configure MacOs
    - name: macos
      when: ansible_facts['os_family'] == 'Darwin'
    - name: geerlingguy.mac.homebrew
      when: ansible_facts['os_family'] == 'Darwin'
    - name: geerlingguy.mac.mas
      when: ansible_facts['os_family'] == 'Darwin'
